<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PoM Listening Test</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Arimo&family=Varela+Round&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Literata&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="./assets/js/index.js"></script>
</head>

<body>
  <header class="page-header">
    <h1 class="">Listening Examples for "Pictures of MIDI" Listening Tests</h1>
    <!-- <h2 class=""></h2>
    <a class="page-header__link" target='_blank' href="https://github.com/tanchihpin0517/structure-aware_infilling">
      Github</a>
    <a class="page-header__link" target='_blank' href="https://arxiv.org/abs/2210.02829">
      Paper</a> -->
  </header>



  <main>
    <div id="content-div">
      
    <section id="intro">
      <p>
        The following are excerpts of MIDI clips of Chinese pop songs, either in their original state or generated by a machine learning model. 
        Each clip is between 12 and 20 seconds in length, randomly extracted from a longer musical piece.  
        The total time to complete these listening tasks is less than <i><b>10 minutes</b></i>.
      </p>
      <p>
        Please record your answers via the <a href="https://no_longer_available.com" target="_blank">online answer form -- NOW DISABLED</a>. 
      </p>
      <p>Note: If you are browsing this page using an iPhone, please remember to turn the silent mode off through the
        switch on the side of your iPhone.</p>

      <details>
        <summary>Optional: Click here if you want info on the research project</summary>
      <b>Title:</b> "Pictures of MIDI:
Controlled Music Generation via Graphical Prompts for Image-Based Diffusion Inpainting"<br>
      <b>Abstract:</b><br>
      Recent years have witnessed significant progress in generative models for music, featuring 
      diverse architectures that balance output quality, diversity, speed, and user control. This study explores 
      a user-friendly graphical interface enabling the drawing of masked regions for inpainting by an Hourglass Diffusion Transformer (HDiT) 
      model trained on MIDI piano roll images. To enhance note generation in specified areas, masked regions are ``seeded'' with extra noise. 
      The non-latent HDiT’s linear scaling with pixel count allows efficient generation in pixel space, providing intuitive and interpretable 
      controls such as masking throughout the network and removing the need to operate in compressed latent spaces such as those provided by pretrained autoencoders. 
      We demonstrate that, in addition to inpainting of melodies, accompaniment, and continuations, the use of seeding can produce musical structures closely matching 
      user specifications such as rising, falling, or diverging melody and/or accompaniment, even when these lie outside the typical training data distribution. 
      </detials>

    </section>
      
    <section id="inpainted-music">

      <h2> Your Seed Value</h2>
      Please supply the following number when filling out the top of the form. This will help keep track of the options (since they're dynamically randomized).<br>

      <h3>Your seed is: 0</h3>  
      <h2> One other note: Please disregard note 'velocity' / playing style.</h2>
      For these examples, we're interested in the <i>composition</i>, not the <i>performance</i>. 
        <section id="inpainted-music-song-1">
        <h2>Question 1 - Creativity</h2>
        <p>For this question please listen to the clips provided, and then in the answer form, rate them according to your preference as per the criterion "CREATIVITY: How creative the music is." (That's all the definition you get. Just go with it!) <br>NOTE: IF YOU'RE ON A PHONE, PLEASE SCROLL TO THE RIGHT SO YOU SEE ALL THE CLIPS!<br>
        <div class='anchor-container'>
            <a midi-url="gen_uncond_004_clip.mid" class='selected'>Clip A</a>
<a midi-url="polyffusion_uncond_shh[scale=0.0]_24-04-10_174354.mid" >Clip B</a>
<a midi-url="pop909_223_clip.mid" >Clip C</a>
<a midi-url="pop909_gt_348.mid" >Clip D</a>
<a midi-url="gen_uncond_000_clip.mid" >Clip E</a>
<a midi-url="uncond_shh[scale=0.0]_24-04-10_180038.mid" >Clip F</a>

        </div>
        <midi-visualizer id='inpainted-music-song-1-visualizer'
            src="gen_uncond_004_clip.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song-1-player'
            src="gen_uncond_004_clip.mid"
            sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
            visualizer="#inpainted-music-song-1-visualizer">
        </midi-player>
        </section>
        
        <section id="inpainted-music-song-2">
        <h2>Question 2 - Naturalness</h2>
        <p>For this question please listen to the clips provided, and then in the answer form, rate them according to your preference as per the criterion "NATURALNESS: How likely a human musician composed the music</p>
        <div class='anchor-container'>
            <a midi-url="gen_uncond_002_clip.mid" class='selected'>Clip A</a>
<a midi-url="pop909_560_clip.mid" >Clip B</a>
<a midi-url="pop909_675_clip.mid" >Clip C</a>
<a midi-url="gen_uncond_040_clip.mid" >Clip D</a>
<a midi-url="uncond_shh[scale=0.0]_24-04-10_174850.mid" >Clip E</a>
<a midi-url="uncond_shh[scale=0.0]_24-04-10_174938.mid" >Clip F</a>

        </div>
        <midi-visualizer id='inpainted-music-song-2-visualizer'
            src="gen_uncond_002_clip.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song-2-player'
            src="gen_uncond_002_clip.mid"
            sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
            visualizer="#inpainted-music-song-2-visualizer">
        </midi-player>
        </section>
        
        <section id="inpainted-music-song-3">
        <h2>Question 3 - Musicality</h2>
        <p>For this question please listen to the clips provided (click on the tab to change clips), and then in the online answer form, rate them according to your preference as per the criterion "MUSICALITY: The overall music quality.</p>
        <div class='anchor-container'>
            <a midi-url="gen_uncond_031_clip.mid" class='selected'>Clip A</a>
<a midi-url="uncond_shh[scale=0.0]_24-04-10_174714.mid" >Clip B</a>
<a midi-url="pop909_902_clip.mid" >Clip C</a>
<a midi-url="uncond_shh[scale=0.0]_24-04-10_181425.mid" >Clip D</a>
<a midi-url="pop909_135_clip.mid" >Clip E</a>
<a midi-url="gen_uncond_021_clip.mid" >Clip F</a>

        </div>
        <midi-visualizer id='inpainted-music-song-3-visualizer'
            src="gen_uncond_031_clip.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song-3-player'
            src="gen_uncond_031_clip.mid"
            sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
            visualizer="#inpainted-music-song-3-visualizer">
        </midi-player>
        </section>
        
        <section id="inpainted-music-song-4">
        <h2>Question 4 - Fitness: Melody (given accompaniment)</h2>
        <p>This one has extra clips! For this question please listen to the clips provided, and then in the answer form, rate them according to your preference as per the criterion "FITNESS: How well the melody fits the accompaniment." <br>NOTE: IF YOU'RE ON A PHONE, PLEASE SCROLL TO THE RIGHT SO YOU SEE ALL THE CLIPS!</p>
        <div class='anchor-container'>
            <a midi-url="polyf_584_melody_clip.mid" class='selected'>Clip A</a>
<a midi-url="584_TOTAL_crop_clip.mid" >Clip B</a>
<a midi-url="polyf_780_melody_clip.mid" >Clip C</a>
<a midi-url="780_TOTAL_crop_clip.mid" >Clip D</a>
<a midi-url="gen_584_melody_drawn_00130_clip.mid" >Clip E</a>
<a midi-url="gen_780_melody_00003_clip.mid" >Clip F</a>
<a midi-url="gen_780_melody_drawn_00246_clip.mid" >Clip G</a>
<a midi-url="gen_584_melody_00002_clip.mid" >Clip H</a>

        </div>
        <midi-visualizer id='inpainted-music-song-4-visualizer'
            src="polyf_584_melody_clip.mid">
        </midi-visualizer>
        <midi-player id='inpainted-music-song-4-player'
            src="polyf_584_melody_clip.mid"
            sound-font="https://storage.googleapis.com/magentadata/js/soundfonts/salamander"
            visualizer="#inpainted-music-song-4-visualizer">
        </midi-player>
        </section>
        <!--
All indices = [[4, 2, 1, 0, 5, 3], [4, 0, 1, 5, 2, 3], [5, 3, 0, 2, 1, 4], [2, 0, 3, 1, 6, 5, 7, 4]]
-->
<center>Thank you for listening! </center>

    </section>
    </div>

    <footer class="site-footer">
      <span class="site-footer-credit">Attribution: We use
        <a target='_blank' href='https://github.com/cifkao/html-midi-player'>html_midi_player</a>
        built and kindly shared publicly by
        <a target='_blank' href="https://ondrej.cifka.com">Ondřej Cífka</a><br>
        for visualizing the piano rolls of the MIDI files. 
        <br>The template for this web page was the <a target='_blank'
          href="https://tanchihpin0517.github.io/structure-aware_infilling/">"Structure Aware Infilling"</a> page.
      </span>
    </footer>
  </main>
  <script
    src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.21.0/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.1.0"></script>

</body>

</html>

